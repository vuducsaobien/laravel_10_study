init docker files

env:
    DB_CONNECTION=mysql
    DB_HOST=mariadb
    DB_PORT=3306
    DB_DATABASE=laravel
    DB_USERNAME=root
    DB_PASSWORD=

docker compose build --no-cache
docker-compose up -d

NAVICAT mysql connection
    host : localhost
    Port: 3306
    User name : root
    password : 

Docker 
    + To delete all containers including its volumes use, // docker rm -vf $(docker ps -aq)
    + To delete all the images, // docker rmi -f $(docker images -aq)
    + remove all docker volumes? // docker system prune
    + docker inspect bcb781603606 (container id) | grep IPAddress

virtual host
:server_name duc-1-laravel-10.local;
truy cap: http://localhost:8000/

1. onDelete('cascade')
    - Khi xóa cha 
        (Table 1): Các bản ghi con (table 2) bị xóa.
        Khi table cha - table 1 : có id = 1 bị xoá
        => ở table con - table 2 : Các bản ghi nào có column table_1_id = 1 sẽ bị xoá tự động
        - Cách kiểm tra: Xoá id = 1 trong table cha - table 1

2. onDelete('restrict')
    - Khi xóa cha 
    Ngăn không cho xóa hoặc cập nhật bản ghi cha nếu tồn tại bản ghi con liên quan.
        Nếu table 2       có bản ghi table_1_id = 1 => Ở table cha không xoá id = 1 được
        Nếu table 2 không có bản ghi table_1_id = 1 => Ở table cha       xoá id = 1 được

3. onDelete('set null')
    Mô tả: Khi một bản ghi cha bị xóa hoặc cập nhật, các bản ghi con sẽ đặt giá trị trong cột khóa ngoại thành NUL
    Lưu ý: Cột khóa ngoại trong bảng con phải cho phép NULL (table_1_id phải được NULL)

4. onDelete('no action')
    Mô tả: Tương tự restrict, nhưng hành động xóa hoặc cập nhật cha sẽ không bị kiểm tra ngay lập tức
    Quyết định lỗi phụ thuộc vào việc thực thi các ràng buộc sau đó trong cơ sở dữ liệu.
    Trong Db transaction

-------------------------------- Relationship Model --------------------------------
Cách tạo DB
php artisan migrate
php artisan db:seed

1. one to one
    Sử dụng 2 table User & Finger
    Xoá table_1 trong DB
    chạy php artisan migrate
    Xoá column migration 2025_01_21_000001_create_table_11 trong table migrations
    php artisan migrate:refresh  // refresh id tự tăng trong DB

Explain - one to one ; cha con như nhau
    - Mỗi User chỉ có 1 Finger      - Môĩ Finger chỉ thuộc về 1 User
            ONE                     -           ONE
    - Nếu thêm 1 bản ghi finger có user_id đã tồn tại trong column user_id trong table finger thì không tạo được
    - Table 1 : cha : User
    - Table 2 : con : Finger

2. One to Many
    - Sử dụng 2 table : User - cha & Phone - con
    - 1 User có thể có nhiều số điện thoại - Phone (Many)
    - Nhưng 1 số điện thoại chỉ thuộc về 1 User (Ones) 
    - Số điện thoại là Unique (ví dụ số đt 0123456 là duy nhất)
    http://localhost:8000/oneToMany

3. Many to Many
    - Sử dụng 3 table : 
        + User
        + table trung gian (users_products)
        + Products
    - 1 User có thể mua nhiều Sản phầm
    - 1 Sản phẩm có thể được mua bới nhiều User
    - Để ý việc trùng lặp cặp column (user_id & product_id)
        ( Có 2 bản ghi trong table trung gian - users_products có cùng cặp giá trị user_id & product_id
            id      user_id     product_id 
            1         2         3
            2         2         3
        )

        + Trường hợp Không trùng lặp (table trung gian - users_products không thể có 2 bản ghi như id = 1 & id = 2 như ví dụ trên)
            - Sử dụng unique constraint để ngăn cặp user_id và product_id trùng lặp




        + Trường hợp Không trùng lặp (table trung gian - users_products có thể có    2 bản ghi như id = 1 & id = 2 như ví dụ trên - Trường hợp này chiếm đa số)



